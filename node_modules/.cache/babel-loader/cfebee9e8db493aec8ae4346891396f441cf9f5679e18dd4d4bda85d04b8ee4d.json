{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, normalizeClass as _normalizeClass, withDirectives as _withDirectives, createStaticVNode as _createStaticVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"max-w-2xl mx-auto\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"bg-white/70 backdrop-blur-lg rounded-2xl p-8 shadow-lg border border-gray-100\"\n};\nconst _hoisted_3 = {\n  class: \"space-y-6\"\n};\nconst _hoisted_4 = {\n  class: \"flex items-center justify-between mb-6\"\n};\nconst _hoisted_5 = {\n  class: \"text-sm font-medium text-gray-500\"\n};\nconst _hoisted_6 = {\n  class: \"w-full bg-gray-200 rounded-full h-2 mb-8\"\n};\nconst _hoisted_7 = {\n  class: \"text-2xl font-medium text-gray-800 mb-8\"\n};\nconst _hoisted_8 = {\n  class: \"flex gap-4 justify-center\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  class: \"bg-white/70 backdrop-blur-lg rounded-2xl p-8 shadow-lg border border-gray-100\"\n};\nconst _hoisted_10 = {\n  class: \"text-center space-y-6\"\n};\nconst _hoisted_11 = {\n  class: \"max-w-md mx-auto\"\n};\nconst _hoisted_12 = [\"disabled\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [!$setup.isCompleted ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_cache[4] || (_cache[4] = _createElementVNode(\"span\", {\n    class: \"text-sm font-medium text-gray-500\"\n  }, \" Progres \", -1 /* HOISTED */)), _createElementVNode(\"span\", _hoisted_5, _toDisplayString($setup.currentQuestionIndex + 1) + \"/\" + _toDisplayString($setup.questions.length), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", {\n    class: \"bg-primary rounded-full h-2 transition-all duration-300\",\n    style: _normalizeStyle({\n      width: `${$setup.currentQuestionIndex / $setup.questions.length * 100}%`\n    })\n  }, null, 4 /* STYLE */)]), _createElementVNode(\"h2\", _hoisted_7, _toDisplayString($setup.currentQuestion.text), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = $event => $setup.answerQuestion(true)),\n    class: \"flex-1 py-3 px-6 bg-primary hover:bg-primary/90 text-gray-800 rounded-xl shadow-md hover:shadow-lg transition-all duration-200\"\n  }, \" Da \"), _createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = $event => $setup.answerQuestion(false)),\n    class: \"flex-1 py-3 px-6 bg-white hover:bg-gray-50 text-gray-800 border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200\"\n  }, \" Nu \")])])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_cache[5] || (_cache[5] = _createStaticVNode(\"<div class=\\\"mb-8\\\"><div class=\\\"inline-flex items-center justify-center w-16 h-16 bg-primary/20 rounded-full mb-4\\\"><svg class=\\\"w-8 h-8 text-primary\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" viewBox=\\\"0 0 24 24\\\"><path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M5 13l4 4L19 7\\\"></path></svg></div><h2 class=\\\"text-2xl font-semibold text-gray-800 mb-2\\\"> Felicitări! Ai finalizat evaluarea </h2><p class=\\\"text-gray-600\\\"> Introdu adresa ta de email pentru a primi raportul personalizat. </p></div>\", 1)), _createElementVNode(\"div\", _hoisted_11, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"email\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.userEmail = $event),\n    placeholder: \"email@example.com\",\n    class: _normalizeClass([\"w-full px-4 py-3 rounded-xl border border-gray-200 mb-4 focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none\", {\n      'border-red-300': $setup.emailError\n    }])\n  }, null, 2 /* CLASS */), [[_vModelText, $setup.userEmail]]), _createElementVNode(\"button\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $setup.submitResults && $setup.submitResults(...args)),\n    class: \"w-full py-3 px-6 bg-primary hover:bg-primary/90 text-gray-800 rounded-xl shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50\",\n    disabled: !$setup.isValidEmail\n  }, \" Trimite Rezultatele \", 8 /* PROPS */, _hoisted_12)])])]))]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","$setup","isCompleted","_hoisted_2","_createElementVNode","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","currentQuestionIndex","questions","length","_hoisted_6","style","_normalizeStyle","width","_hoisted_7","currentQuestion","text","_hoisted_8","onClick","_cache","$event","answerQuestion","_hoisted_9","_hoisted_10","_createStaticVNode","_hoisted_11","type","userEmail","placeholder","_normalizeClass","emailError","args","submitResults","disabled","isValidEmail","_hoisted_12"],"sources":["D:\\Projects\\Barmayoun\\vue-questions\\quizz-app-v2\\src\\components\\QuizComponent.vue"],"sourcesContent":["<template>\r\n  <div class=\"max-w-2xl mx-auto\">\r\n    <div v-if=\"!isCompleted\" class=\"bg-white/70 backdrop-blur-lg rounded-2xl p-8 shadow-lg border border-gray-100\">\r\n      <div class=\"space-y-6\">\r\n        <div class=\"flex items-center justify-between mb-6\">\r\n          <span class=\"text-sm font-medium text-gray-500\">\r\n            Progres\r\n          </span>\r\n          <span class=\"text-sm font-medium text-gray-500\">\r\n            {{ currentQuestionIndex + 1 }}/{{ questions.length }}\r\n          </span>\r\n        </div>\r\n\r\n        <div class=\"w-full bg-gray-200 rounded-full h-2 mb-8\">\r\n          <div class=\"bg-primary rounded-full h-2 transition-all duration-300\"\r\n            :style=\"{ width: `${(currentQuestionIndex / questions.length) * 100}%` }\"></div>\r\n        </div>\r\n\r\n        <h2 class=\"text-2xl font-medium text-gray-800 mb-8\">\r\n          {{ currentQuestion.text }}\r\n        </h2>\r\n\r\n        <div class=\"flex gap-4 justify-center\">\r\n          <button @click=\"answerQuestion(true)\"\r\n            class=\"flex-1 py-3 px-6 bg-primary hover:bg-primary/90 text-gray-800 rounded-xl shadow-md hover:shadow-lg transition-all duration-200\">\r\n            Da\r\n          </button>\r\n          <button @click=\"answerQuestion(false)\"\r\n            class=\"flex-1 py-3 px-6 bg-white hover:bg-gray-50 text-gray-800 border border-gray-200 rounded-xl shadow-sm hover:shadow-md transition-all duration-200\">\r\n            Nu\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-else class=\"bg-white/70 backdrop-blur-lg rounded-2xl p-8 shadow-lg border border-gray-100\">\r\n      <div class=\"text-center space-y-6\">\r\n        <div class=\"mb-8\">\r\n          <div class=\"inline-flex items-center justify-center w-16 h-16 bg-primary/20 rounded-full mb-4\">\r\n            <svg class=\"w-8 h-8 text-primary\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\"></path>\r\n            </svg>\r\n          </div>\r\n          <h2 class=\"text-2xl font-semibold text-gray-800 mb-2\">\r\n            Felicitări! Ai finalizat evaluarea\r\n          </h2>\r\n          <p class=\"text-gray-600\">\r\n            Introdu adresa ta de email pentru a primi raportul personalizat.\r\n          </p>\r\n        </div>\r\n\r\n        <div class=\"max-w-md mx-auto\">\r\n          <input type=\"email\" v-model=\"userEmail\" placeholder=\"email@example.com\"\r\n            class=\"w-full px-4 py-3 rounded-xl border border-gray-200 mb-4 focus:ring-2 focus:ring-primary/50 focus:border-primary outline-none\"\r\n            :class=\"{ 'border-red-300': emailError }\">\r\n          <button @click=\"submitResults\"\r\n            class=\"w-full py-3 px-6 bg-primary hover:bg-primary/90 text-gray-800 rounded-xl shadow-md hover:shadow-lg transition-all duration-200 disabled:opacity-50\"\r\n            :disabled=\"!isValidEmail\">\r\n            Trimite Rezultatele\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed } from 'vue'\r\nimport { jsPDF } from 'jspdf'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n  name: 'QuizComponent',\r\n  setup() {\r\n    const questions = [\r\n      {\r\n        id: 1,\r\n        text: \"Ai experiență în dezvoltare web?\",\r\n        feedbackYes: \"Excelent! Experiența ta în dezvoltare web este un atu important.\",\r\n        feedbackNo: \"Nu-ți face griji! Toți începem de undeva. Îți recomandăm să începi cu bazele.\"\r\n      },\r\n      {\r\n        id: 2,\r\n        text: \"Ai lucrat înainte cu Vue.js?\",\r\n        feedbackYes: \"Perfect! Cunoștințele tale de Vue.js vor fi foarte utile.\",\r\n        feedbackNo: \"Vue.js este un framework excelent pentru început. Începe cu documentația oficială.\"\r\n      },\r\n      {\r\n        id: 3,\r\n        text: \"Ai experiență cu sisteme de versionare (Git)?\",\r\n        feedbackYes: \"Foarte bine! Git este esențial în dezvoltarea modernă.\",\r\n        feedbackNo: \"Git este un instrument fundamental. Începe cu tutorialele de bază.\"\r\n      }\r\n    ]\r\n\r\n    const currentQuestionIndex = ref(0)\r\n    const answers = ref({})\r\n    const userEmail = ref('')\r\n    const emailError = ref(false)\r\n\r\n    const currentQuestion = computed(() =>\r\n      questions[currentQuestionIndex.value]\r\n    )\r\n\r\n    const isCompleted = computed(() =>\r\n      currentQuestionIndex.value >= questions.length\r\n    )\r\n\r\n    const isValidEmail = computed(() => {\r\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n      return emailRegex.test(userEmail.value)\r\n    })\r\n\r\n    const generatePDF = () => {\r\n      const doc = new jsPDF({\r\n        unit: 'mm',\r\n        format: 'a4',\r\n        compress: true\r\n      })\r\n\r\n      // Setări inițiale font\r\n      doc.setFont(\"helvetica\")\r\n      doc.setFontSize(16)\r\n\r\n      // Header\r\n      doc.setFontSize(22)\r\n      doc.text('Raport de Evaluare', 105, 25, { align: 'center' })\r\n\r\n      // Data\r\n      doc.setFontSize(12)\r\n      const date = new Date().toLocaleDateString('ro-RO', {\r\n        year: 'numeric',\r\n        month: '2-digit',\r\n        day: '2-digit'\r\n      }).split('.').join('.')\r\n      doc.text(`Generat la: ${date}`, 105, 35, { align: 'center' })\r\n\r\n      let yPos = 50\r\n\r\n      // Întrebări și răspunsuri\r\n      questions.forEach((question, index) => {\r\n        const answer = answers.value[question.id]\r\n\r\n        // Verifică spațiul disponibil\r\n        if (yPos > 250) {\r\n          doc.addPage()\r\n          yPos = 30\r\n        }\r\n\r\n        // Întrebarea\r\n        doc.setFontSize(12)\r\n        doc.setFont(\"helvetica\", \"normal\")\r\n        doc.text(`${index + 1}. ${question.text}`, 20, yPos)\r\n        yPos += 10\r\n\r\n        // Răspuns\r\n        doc.setFontSize(12)\r\n        doc.text(`Răspuns: ${answer ? 'Da' : 'Nu'}`, 20, yPos, {\r\n          charSpace: 0\r\n        })\r\n        yPos += 8\r\n\r\n        // Feedback\r\n        const feedback = answer ? question.feedbackYes : question.feedbackNo\r\n        const splitFeedback = doc.splitTextToSize(feedback, 170)\r\n\r\n        doc.setFontSize(12)\r\n        splitFeedback.forEach(line => {\r\n          if (yPos > 270) {\r\n            doc.addPage()\r\n            yPos = 30\r\n          }\r\n          doc.text(line, 20, yPos, {\r\n            charSpace: 0\r\n          })\r\n          yPos += 7\r\n        })\r\n\r\n        yPos += 10\r\n      })\r\n\r\n      // Footer\r\n      doc.setFontSize(10)\r\n      doc.text('Document generat automat', 105, 280, {\r\n        align: 'center',\r\n        charSpace: 0\r\n      })\r\n\r\n      return doc.output('blob')\r\n    }\r\n\r\n    const answerQuestion = (answer) => {\r\n      answers.value[currentQuestion.value.id] = answer\r\n      currentQuestionIndex.value++\r\n    }\r\n\r\n    const submitResults = async () => {\r\n      if (!isValidEmail.value) {\r\n        emailError.value = true\r\n        return\r\n      }\r\n\r\n      try {\r\n        const pdfBlob = generatePDF()\r\n        const formData = new FormData()\r\n        formData.append('pdf', pdfBlob, 'rezultate.pdf')\r\n        formData.append('email', userEmail.value)\r\n\r\n        await axios.post('http://localhost:3000/send-results', formData, {\r\n          headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }\r\n        })\r\n\r\n        alert('Rezultatele au fost trimise pe email!')\r\n      } catch (error) {\r\n        console.error('Error:', error)\r\n        alert('A apărut o eroare. Te rugăm să încerci din nou.')\r\n      }\r\n    }\r\n\r\n    return {\r\n      questions,\r\n      currentQuestion,\r\n      currentQuestionIndex,\r\n      isCompleted,\r\n      userEmail,\r\n      emailError,\r\n      isValidEmail,\r\n      answerQuestion,\r\n      submitResults\r\n    }\r\n  }\r\n}\r\n</script>\r\n"],"mappings":";;EACOA,KAAK,EAAC;AAAmB;;EADhCC,GAAA;EAE6BD,KAAK,EAAC;;;EACxBA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAwC;;EAI3CA,KAAK,EAAC;AAAmC;;EAK5CA,KAAK,EAAC;AAA0C;;EAKjDA,KAAK,EAAC;AAAyC;;EAI9CA,KAAK,EAAC;AAA2B;;EAtB9CC,GAAA;EAmCgBD,KAAK,EAAC;;;EACXA,KAAK,EAAC;AAAuB;;EAe3BA,KAAK,EAAC;AAAkB;oBAnDrC;;uBACEE,mBAAA,CA8DM,OA9DNC,UA8DM,G,CA7DQC,MAAA,CAAAC,WAAW,I,cAAvBH,mBAAA,CA+BM,OA/BNI,UA+BM,GA9BJC,mBAAA,CA6BM,OA7BNC,UA6BM,GA5BJD,mBAAA,CAOM,OAPNE,UAOM,G,0BANJF,mBAAA,CAEO;IAFDP,KAAK,EAAC;EAAmC,GAAC,WAEhD,sBACAO,mBAAA,CAEO,QAFPG,UAEO,EAAAC,gBAAA,CADFP,MAAA,CAAAQ,oBAAoB,QAAO,GAAC,GAAAD,gBAAA,CAAGP,MAAA,CAAAS,SAAS,CAACC,MAAM,iB,GAItDP,mBAAA,CAGM,OAHNQ,UAGM,GAFJR,mBAAA,CACkF;IAD7EP,KAAK,EAAC,yDAAyD;IACjEgB,KAAK,EAflBC,eAAA;MAAAC,KAAA,KAeiCd,MAAA,CAAAQ,oBAAoB,GAAGR,MAAA,CAAAS,SAAS,CAACC,MAAM;IAAA;6BAGhEP,mBAAA,CAEK,MAFLY,UAEK,EAAAR,gBAAA,CADAP,MAAA,CAAAgB,eAAe,CAACC,IAAI,kBAGzBd,mBAAA,CASM,OATNe,UASM,GARJf,mBAAA,CAGS;IAHAgB,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAErB,MAAA,CAAAsB,cAAc;IAC5B1B,KAAK,EAAC;KAAiI,MAEzI,GACAO,mBAAA,CAGS;IAHAgB,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAErB,MAAA,CAAAsB,cAAc;IAC5B1B,KAAK,EAAC;KAAmJ,MAE3J,E,wBAKNE,mBAAA,CA2BM,OA3BNyB,UA2BM,GA1BJpB,mBAAA,CAyBM,OAzBNqB,WAyBM,G,0BA7DZC,kBAAA,2hBAmDQtB,mBAAA,CASM,OATNuB,WASM,G,gBARJvB,mBAAA,CAE4C;IAFrCwB,IAAI,EAAC,OAAO;IApD7B,uBAAAP,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAoDuCrB,MAAA,CAAA4B,SAAS,GAAAP,MAAA;IAAEQ,WAAW,EAAC,mBAAmB;IACrEjC,KAAK,EArDjBkC,eAAA,EAqDkB,8HAA8H;MAAA,kBACxG9B,MAAA,CAAA+B;IAAU;0CAFX/B,MAAA,CAAA4B,SAAS,E,GAGtCzB,mBAAA,CAIS;IAJAgB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAY,IAAA,KAAEhC,MAAA,CAAAiC,aAAA,IAAAjC,MAAA,CAAAiC,aAAA,IAAAD,IAAA,CAAa;IAC3BpC,KAAK,EAAC,oJAAoJ;IACzJsC,QAAQ,GAAGlC,MAAA,CAAAmC;KAAc,uBAE5B,iBA3DVC,WAAA,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}